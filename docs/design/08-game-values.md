# 08 - 游戏数值系统

## 概述

本文档描述《旧日档案馆》中与消耗、产出相关的核心数值设计。术语中英对照与数据键名见 [00-project-keywords](../settings/00-project-keywords.md)。

---

## 1. 研究员认知消耗

研究员持续消耗认知因子以维持运作。

| 基准（研究员人数） | 每小时消耗（认知） | 每天消耗（认知，24 h） |
|--------------------|-------------------|------------------------|
| 1 | 1 | 24 |
| 10 | 10 | 240 |

**公式**：`每小时消耗 = 研究员人数 × 1`

---

## 2. 档案馆核心：庇护等级与计算因子消耗

档案馆核心消耗计算因子以产生「文明的庇佑」，庇护强度由**核心出力等级**决定。

### 2.1 庇护等级

- **等级范围**：1～4 级
- **初始等级**：1 级

### 2.2 各级计算因子消耗（基础值）

| 庇护等级 | 每小时消耗（计算） | 每天消耗（计算，24 h） |
|----------|-------------------|------------------------|
| 1 级 | 10 | 240 |
| 2 级 | 20 | 480 |
| 3 级 | 30 | 720 |
| 4 级 | 40 | 960 |

**公式**：`基础每小时消耗 = 庇护等级 × 10`

---

## 3. 档案馆核心：庇护范围等级

核心提供庇护范围，处于范围内的房间可获得庇护。玩家可开关各范围等级来扩大或缩小覆盖。

### 3.1 范围等级

- **等级**：0、1、2、3、4 共五档
- **解锁后**：玩家可自行开启/关闭各等级

### 3.2 各级范围增量（空间单位）

| 范围等级 | 范围增量（空间单位） | 累计范围（空间单位） |
|----------|----------------------|----------------------|
| 0 | 12 | 12 |
| 1 | +12 | 24 |
| 2 | +24 | 48 |
| 3 | +24 | 72 |
| 4 | +48 | 120 |

### 3.3 计算因子消耗倍率

- **0 级范围**：消耗倍率 100%（基准）
- **每额外开放一档**：消耗倍率 +100%
- **开满 5 档（0～4 全开）**：消耗倍率 500%

| 开放档位数 | 计算因子消耗倍率 |
|------------|------------------|
| 1（仅 0 级） | 100% |
| 2 | 200% |
| 3 | 300% |
| 4 | 400% |
| 5（0～4 全开） | 500% |

### 3.4 实际消耗公式

```
实际每小时消耗 = 基础每小时消耗（由庇护等级决定）× 消耗倍率（由开启的范围档位数决定）
```

**示例**：2 级庇护、开放 3 档范围  
- 基础消耗：20/小时  
- 倍率：300%  
- 实际消耗：20 × 3 = 60 计算因子/小时

---

## 4. 房间清理

房间在**被清理之前无法被建设**。清理需要消耗信息、占用研究员，并需要一定游戏内时间完成。（*当前版本仅使用研究员数量，暂不用劳动力概念*）

### 4.1 清理需求（按房间单位）

| 房间单位 | 研究员占用（人） | 信息消耗（数量） | 清理时长（小时） |
|----------|------------------|------------------|------------------|
| 3 单位（如 5×3） | 2 | 20 | 3 |
| 6～7 单位（如 10×3、5×7） | 3 | 40 | 5 |

### 4.2 流程说明

- 清理进行中：研究员被**临时占用**，清理结束后返还
- 清理完成：房间变为「已清理」状态，方可建设区域

---

## 5. 建设区域

建设区域时，除**耗时**外，资源消耗与房间空间单位关系不大，采用统一数值。

### 5.1 建设需求

| 区域类型 | 研究员占用（人） | 信息消耗（数量） | 权限消耗（数量） | 每单位耗时（小时） |
|----------|------------------|------------------|------------------|---------------------|
| 研究区 | 2 | 100 | 60 | 2 |
| 造物区 | 2 | 100 | 60 | 2 |
| 事务所 | 2 | 100 | 120 | 2 |
| 生活区 | 1 | 50 | 0 | 1 |

### 5.2 耗时计算

建设耗时 = 房间单位数 × 每单位耗时

**示例**：
- 3 单位房间建设研究区：3 × 2 = 6 小时
- 7 单位房间建设事务所：7 × 2 = 14 小时
- 宿舍（3 单位）建设生活区：3 × 1 = 3 小时

### 5.3 流程说明

- **研究员占用**：自建设开始即被该房间**长期占用**，建设结束后**不返还**（与清理不同）。建设完成后，这些研究员继续留在房间内进行研究、造物等活动，直至房间资源耗尽或房间被拆除时才返还
- 研究区、造物区、事务所：固定消耗，耗时随房间单位增加
- 生活区：消耗较低，每单位耗时更短

### 5.4 生活区与住房

**设计约束**：生活区需建设在 **宿舍** 类型房间上。宿舍房间为 3 单位。

| 房间类型 | 房间单位 | 提供住房（数量） |
|----------|----------|------------------|
| 宿舍 | 3 单位 | 4 |

**住房需求**：1 名研究员需 1 住房。

---

## 6. 研究区房间产出

研究区房间原本带有**资源存量**；建设研究区后，通过研究提取房间存量转化为因子产出。存量归零时，房间**不再产出**，类型转换为**空房间**。

### 6.1 产出速率（1 单位）

| 研究区房间类型 | 产出资源 | 每小时产出 | 每天产出（24 h） |
|----------------|----------|------------|------------------|
| 图书室 | 认知 | 5 | 120 |
| 机房 | 计算 | 5 | 120 |
| 资料库 | 权限 | 10 | 240 |
| 教学室 | 意志 | 10 | 240 |

### 6.2 产出公式

```
每小时产出 = 房间单位数 × 每单位每小时产出
```

**示例**：
- 3 单位图书室：3 × 5 = 15 认知/小时
- 7 单位教学室：7 × 10 = 70 意志/小时

### 6.3 存量耗尽

当房间资源存量被完全研究（归零）后：
- 研究区**停止产出**
- 房间类型转变为**空房间**

---

## 7. 造物区房间产出

造物区房间消耗意志因子并产出相应资源。只要意志因子充足，即持续产出；若玩家资源不足则**停工**。

### 7.1 产出速率（1 单位）

| 造物区房间类型 | 消耗资源 | 每小时消耗 | 产出资源 | 每小时产出 |
|----------------|----------|------------|----------|------------|
| 实验室 | 意志 | 15 | 权限 | 15 |
| 推理室 | 意志 | 15 | 信息 | 15 |

### 7.2 运作逻辑

- **正常运行**：意志因子满足消耗时持续产出
- **停工**：意志因子不足时停止产出，待资源恢复后继续

---

## 8. 空房间与改造

当房间为**空房间**时，玩家可使用**改造**功能（与清理、建设同级操作）将其改造为可建设造物区的房间类型。

### 8.1 可改造目标

- 实验室
- 推理室
- 后续设计的其他造物区房间

**限制**：仅可改造为造物区房间，**无法**改造出带初始资源存量的房间（如图书室、机房等）。

### 8.2 改造消耗（暂定）

| 资源类型 | 改造消耗量 |
|----------|------------|
| 信息 | 100 |
| 权限 | 100 |
| 意志 | 100 |

---

## 9. 相关文档

- [名词解释：空间单位](../../名词解释.md#空间单位)
- [名词解释：房间类型](../../名词解释.md#房间类型)
- [名词解释：清理状态](../../名词解释.md#清理状态)
- [名词解释：档案馆核心与庇护](../../名词解释.md#档案馆核心与庇护)
- [04 - 时间流逝系统](04-time-system.md)
